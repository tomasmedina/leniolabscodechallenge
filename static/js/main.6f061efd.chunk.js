(this.webpackJsonpleniolabscodechallenge=this.webpackJsonpleniolabscodechallenge||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/twitter.a7a925c7.svg"},20:function(e,t,a){e.exports=a.p+"static/media/facebook.3ae13bc8.svg"},21:function(e,t,a){e.exports=a.p+"static/media/youtube.3089292a.svg"},22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(27),a(6)),s=a.n(o),u=a(8),m=a(2),i=a(5),b=function(e){var t=e.member,a=t.first_name,n=t.last_name,c=t.id,l=t.title,o="".concat(a," ").concat(n," - ").concat(l);return r.a.createElement("div",{className:"listItem"},r.a.createElement("span",null,o),r.a.createElement(i.b,{to:"/member/".concat(c)},r.a.createElement("button",{className:"detailButton"},"Details")))},f=function(e){var t=e.membersList,a=e.chamber,n="Members of ".concat(a);return r.a.createElement("div",{className:"listContainer"},r.a.createElement("h2",null,n),r.a.createElement("ul",null,t.length?t.map((function(e){return r.a.createElement(b,{key:e.api_uri,member:e})})):r.a.createElement("p",null,"No members found with that search criteria ")))},d={method:"GET",headers:{"X-API-Key":"QkGVtAefP8C1tZwkQi1hRk87rZxqxR4vptsp2tms"}},p=[{key:"gender",label:"Gender",placeholder:"Female or Male"},{key:"first_name",label:"First Name",placeholder:"Barack"},{key:"last_name",label:"Last Name",placeholder:"Obama"},{key:"party",label:"Party",placeholder:"Democrat or Republican"}],h=function(e){return"female"===e?"f":"male"===e?"m":"republican"===e?"r":"democrat"===e?"d":e},E=[{chamber:"senate"},{chamber:"house"}],v=(a(15),function(e){var t=e.setChamber;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Select Chamber"),r.a.createElement("div",{className:"houseButtons"},E.map((function(e){return r.a.createElement("button",{key:e.chamber,onClick:function(){return t(e.chamber)}},e.chamber)}))))}),g=function(e){var t=e.handleAdvancedFilter;return r.a.createElement("div",{className:"advancedFilterContainer"},p.map((function(e){return r.a.createElement("div",null,r.a.createElement("label",null,e.label),r.a.createElement("input",{key:e.key,className:"advancedFilterInput",placeholder:e.placeholder,onChange:function(a){return t(e.key,a)}}))})))},w=(a(16),function(){var e=Object(n.useState)("senate"),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),i=o[0],b=o[1],E=Object(n.useState)(!1),w=Object(m.a)(E,2),j=w[0],O=w[1],k=Object(n.useState)(""),y=Object(m.a)(k,2),N=y[0],C=y[1],S=Object(n.useState)(1),_=Object(m.a)(S,2),x=_[0],L=_[1],B=Object(n.useState)(7),F=Object(m.a)(B,1)[0],A=Object(n.useState)(!1),I=Object(m.a)(A,2),D=I[0],M=I[1],P=Object(n.useState)(""),G=Object(m.a)(P,2),R=G[0],T=G[1],J=Object(n.useState)(""),Q=Object(m.a)(J,2),W=Q[0],Z=Q[1],q=Object(n.useState)(""),K=Object(m.a)(q,2),V=K[0],X=K[1],$=Object(n.useState)(""),z=Object(m.a)($,2),H=z[0],U=z[1],Y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch("https://api.propublica.org/congress/v1/114/".concat(a,"/members.json"),d);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.results.map((function(e){return e}))[0],b(r.members.flat()),O(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=N.toLowerCase(),te=p.map((function(e){return e.key})),ae=i.filter((function(e){return Object.keys(e).some((function(t){return te.includes(t)&&e[t].toString().toLowerCase().includes(ee)}))}));Object(n.useEffect)((function(){Y()}),[]);var ne=function(){C(""),T(""),X(""),Z(""),U("")};R&&(ae=ae.filter((function(e){return e.gender.toLowerCase().includes(R)}))),H&&(ae=ae.filter((function(e){return e.party.toLowerCase().includes(H)}))),W&&(ae=ae.filter((function(e){return e.first_name.toLowerCase().includes(W)}))),V&&(ae=ae.filter((function(e){return e.last_name.toLowerCase().includes(V)})));var re=x*F-F,ce=ae.splice(re,F);return r.a.createElement("div",{className:"container"},r.a.createElement(v,{setChamber:function(e){b([]),c(e),Y(),ne(),M(!1)}}),D?r.a.createElement(g,{handleAdvancedFilter:function(e,t){var a=h(t.target.value.toLowerCase().trim());switch(e){case"gender":return void T(a);case"party":return void U(a);case"first_name":return void Z(a);case"last_name":return void X(a)}},gender:R,firstName:W,lastName:V,party:H}):r.a.createElement("input",{placeholder:"Search by first name, last name, gender or party",onChange:function(e){L(1);var t=h(e.target.value.toLowerCase().trim());C(t)},className:"filterInput"}),r.a.createElement("button",{className:"toggleFilterButton",onClick:function(){ne(),M(!D)}},D?"Toggle simple search":"Toggle advanced Search"),j?r.a.createElement("h3",null,"Loading..."):r.a.createElement(f,{chamber:a,membersList:ce}),r.a.createElement("div",null,r.a.createElement("h4",null,"Page ",x)),r.a.createElement("div",null,r.a.createElement("button",{className:"pageButton",onClick:function(){1!==x&&L(x-1)}},"prev"),r.a.createElement("button",{className:"pageButton",onClick:function(){ce.length<F||L(x+1)}},"next")))}),j=a(19),O=a.n(j),k=a(20),y=a.n(k),N=a(21),C=a.n(N),S=function(e){var t=e.data,a=t.first_name,n=t.last_name,c=t.date_of_birth,l=t.current_party,o=void 0===l?"":l,s=t.twitter_account,u=t.youtube_account,m=t.facebook_account,i="".concat(a," ").concat(n);return r.a.createElement("div",{className:"memberDetailBox"},r.a.createElement("div",{className:"memberInfo"},r.a.createElement("div",null,r.a.createElement("label",null,"Full Name: "),r.a.createElement("span",null,i)),r.a.createElement("div",null,r.a.createElement("label",null,"Date Of Birth: "),r.a.createElement("span",null,c)),r.a.createElement("div",null,r.a.createElement("label",null,"Current Party: "),r.a.createElement("span",null,"r"===o.toLowerCase()?"Republican":"Democrat")),r.a.createElement("div",null,r.a.createElement("p",null,"Social Networks"),r.a.createElement("a",{href:"https://www.twitter.com/".concat(s)}," ",r.a.createElement("img",{src:O.a,alt:"twitter",className:"logo"})),r.a.createElement("a",{href:"https://www.youtube.com/".concat(u)}," ",r.a.createElement("img",{src:y.a,alt:"facebook",className:"logo"})),r.a.createElement("a",{href:"https://www.facebook.com/".concat(m)}," ",r.a.createElement("img",{src:C.a,alt:"youtube",className:"logo"})))))},_=function(e){var t=e.match.params.memberId,a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],o=c[1],b=Object(n.useState)([]),f=Object(m.a)(b,2),p=f[0],h=f[1],E=function(){var e=Object(u.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch("https://api.propublica.org/congress/v1/members/".concat(t,".json"),d);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=n.results.map((function(e){return e}))[0],h(r),o(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),r.a.createElement("div",{className:"detailContainer"},r.a.createElement(i.b,{to:"/leniolabscodechallenge"},r.a.createElement("button",null," Go Back")),l?r.a.createElement("h3",null,"Fetching Member Data..."):r.a.createElement(S,{data:p}))},x=a(1),L=(a(34),function(){return r.a.createElement("div",null,"Oops, there's nothing here!")});var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Members of Congress")),r.a.createElement(i.a,null,r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/leniolabscodechallenge",exact:!0,component:w}),r.a.createElement(x.a,{path:"/member/:memberId",exact:!0,component:_}),r.a.createElement(x.a,{component:L}))),r.a.createElement("footer",{className:"App-footer"},r.a.createElement("h3",null,"A footer")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.6f061efd.chunk.js.map